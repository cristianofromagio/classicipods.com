# classicipods.com

This repository contains the files from an attempted restoration of a Wayback-Archived Adobe Muse website about iPods.

## About the website

I stumbled uppon the link [http://classicipods.test/identify-your-pod.html](http://classicipods.test/identify-your-pod.html) while searching how to identify an iPod Classic 5th gen. from an iPod Classic "5.5th" gen. Needless to say, I hit a `ERR_NAME_NOT_RESOLVED` page. Like anyone would do, I [search it up](https://web.archive.org/web/20180807013753/http://classicipods.com/) on Internet Archive's Wayback Machine just to be faced with a window alert with the following message:

> Some files on the server may be missing or incorrect. Clear browser cache and try again. If the problem persists please contact website author.

A quick Google search says this is propably an error related to [Adobe Muse](https://helpx.adobe.com/muse/user-guide.html) files (never heard of it until now). Peeking at the [page source-code](view-source:https://web.archive.org/web/20180807013753/http://classicipods.com/) and comparing it to the [captured URLs list](https://web.archive.org/web/*/http://classicipods.com/*) for the domain we could easily guess it is because Wayback crawler couldn't follow (and archive) some files generated by the Adobe Muse program, especifically the ones hidden/nested inside this tag:

```html
<!-- (...) -->

<!-- RequireJS script -->
  <script src="/web/20180807013753js_/http://classicipods.com/scripts/require.js?crc=4159430777" type="text/javascript" async data-main="scripts/museconfig.js?crc=4179431180" onload="if (requirejs) requirejs.onError = function(requireType, requireModule) { if (requireType &amp;&amp; requireType.toString &amp;&amp; requireType.toString().indexOf &amp;&amp; 0 <= requireType.toString().indexOf('#scripterror')) window.Muse.assets.check(); }" onerror="window.Muse.assets.check();"></script>
   </body>
</html>

<!-- (...) -->
```

The important part there is the `data-main="scripts/museconfig.js?crc=4179431180"` attribute. Searching this file on [GitHub filtering by JavaScript](https://github.com/search?l=JavaScript&q=museconfig.js&type=Code) can give us a hint of what its content was like.

## The restoration process

### Download website from Wayback Machine

I used [wayback_machine_downloader](https://github.com/hartator/wayback-machine-downloader) to download all latest files from the Archive:

```bash
wayback_machine_downloader http://classicipods.com -d website -c 20
```

### Cleaning up filenames

This downloaded around 130 files but some of them (mainly assets) had some messed up trailing characters because they were called with a `crc` query param on the pages. These might be refering to a [Cyclic Redundancy Check](https://csrc.nist.gov/glossary/term/cyclic_redundancy_check), being used as a versioning mechanism and/or for cache-busting. Because I don't care about the versions for now, I remove these strings from the filenames running the one-liner `for file in *; do mv "$file" "${file/\%3fcrc*/}"; done` command inside each asset folder.

